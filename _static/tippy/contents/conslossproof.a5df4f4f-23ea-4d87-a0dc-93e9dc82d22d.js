selector_to_html = {"a[href=\"https://en.wikipedia.org/wiki/Jensen%27s_inequality\"]": "<img src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c7/ConvexFunction.svg/320px-ConvexFunction.svg.png\" alt=\"Wikipedia thumbnail\" style=\"float:left; margin-right:10px;\"><p>In mathematics, <b>Jensen's inequality</b>, named after the Danish mathematician Johan Jensen, relates the value of a convex function of an integral to the integral of the convex function. It was proved by Jensen in 1906, building on an earlier proof of the same inequality for doubly-differentiable functions by Otto H\u00f6lder in 1889. Given its generality, the inequality appears in many forms depending on the context, some of which are presented below. In its simplest form the inequality states that the convex transformation of a mean is less than or equal to the mean applied after convex transformation.</p>", "a[href^=\"https://en.wikipedia.org/wiki/Jensen%27s_inequality#\"]": "<img src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c7/ConvexFunction.svg/320px-ConvexFunction.svg.png\" alt=\"Wikipedia thumbnail\" style=\"float:left; margin-right:10px;\"><p>In mathematics, <b>Jensen's inequality</b>, named after the Danish mathematician Johan Jensen, relates the value of a convex function of an integral to the integral of the convex function. It was proved by Jensen in 1906, building on an earlier proof of the same inequality for doubly-differentiable functions by Otto H\u00f6lder in 1889. Given its generality, the inequality appears in many forms depending on the context, some of which are presented below. In its simplest form the inequality states that the convex transformation of a mean is less than or equal to the mean applied after convex transformation.</p>", "a[href=\"intro.html#sec-bayeserr\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\"><span class=\"section-number\">1.13. </span>Bayes error<a class=\"headerlink\" href=\"#bayes-error\" title=\"Link to this heading\">#</a></h2><p>Because\nof the inherent uncertainty in the distribution, the smallest generalisation error that can be achieved\nmight be larger than zero.</p><p>Let\u2019s assume, for example, that we want to predict the sex of a person based only on the height of the\nperson. A person of height 1.8m is likely male \u2013 but not necessarily so. Obviously, there are also\nwomen of 1.8m, but they are fewer than men of 1.8m. Height does not determine sex, and thus any\nclassifier based only on height will never be perfect. This residual error that any classifier\nis bound to make is called <em>Bayes error</em>. It is defined as</p>", "a[href=\"loss.html#consistencythm\"]": "<div class=\"proof theorem admonition\" id=\"consistencythm\">\n<p class=\"admonition-title\"><span class=\"caption-number\">Theorem 6.1 </span> (Bartlett, Jordan and MacAuliffe)</p>\n<section class=\"theorem-content\" id=\"proof-content\">\n<p>Let <span class=\"math notranslate nohighlight\">\\(\\phi:\\mathbb R\\to \\mathbb R_+\\)</span> be convex, continuous and differentiable at 0 with <span class=\"math notranslate nohighlight\">\\(\\phi'(0)&lt;0\\)</span>.\nThen <span class=\"math notranslate nohighlight\">\\(\\phi\\)</span> is Bayes-consistent.</p>\n</section>\n</div>", "a[href=\"#equation-cons3\"]": "<div class=\"math notranslate nohighlight\" id=\"equation-cons3\">\n\\[\\inf_\\alpha C_\\mu(\\alpha) =  \\inf_\\alpha C_{1-\\mu}(\\alpha)\\quad\\text{for all }\\mu\\in [0,1]\\]</div>", "a[href=\"#equation-cons7\"]": "<div class=\"math notranslate nohighlight\" id=\"equation-cons7\">\n\\[C_\\mu(\\alpha)\\geq \\phi(0) \\text{ if }\\sgn(\\alpha)\\neq \\sgn(2\\mu-1)\\]</div>", "a[href=\"#equation-cons8\"]": "<div class=\"math notranslate nohighlight\" id=\"equation-cons8\">\n\\[\\psi\\left(L(f)-\\bayerr\\right)\\leq L_\\phi(f)-\\epsilon_\\phi\\quad\\text{for all }f:\\mathcal X\\to\\mathbb R\\]</div>", "a[href=\"intro.html#equation-bayclass\"]": "<div class=\"math notranslate nohighlight\" id=\"equation-bayclass\">\n\\[\\bayes(x)=\\argmax_{y\\in \\mathcal Y}\\proba[y|x] \\]</div>", "a[href=\"#equation-cons2\"]": "<div class=\"math notranslate nohighlight\" id=\"equation-cons2\">\n\\[L_\\phi(f) - \\epsilon_\\phi = \\expec_x[C_{\\eta(x)}(f(x))-\\inf_\\alpha C_{\\eta(x)}(\\alpha)]\\]</div>", "a[href=\"#equation-cons5\"]": "<div class=\"math notranslate nohighlight\" id=\"equation-cons5\">\n\\[\\psi(\\theta)&gt;0\\quad\\text{whenever }0&lt;\\theta\\leq 1 \\]</div>", "a[href=\"convex.html#gradlem\"]": "<div class=\"proof lemma admonition\" id=\"gradlem\">\n<p class=\"admonition-title\"><span class=\"caption-number\">Lemma 3.1 </span></p>\n<section class=\"lemma-content\" id=\"proof-content\">\n<p>Let <span class=\"math notranslate nohighlight\">\\(f:C\\to\\mathbb R\\)</span> be a differentiable function on an open convex set <span class=\"math notranslate nohighlight\">\\(C\\subseteq \\mathbb R^n\\)</span>.\nThen <span class=\"math notranslate nohighlight\">\\(f\\)</span> is convex if and only if</p>\n<div class=\"math notranslate nohighlight\">\n\\[\nf(y)\\geq f(x)+\\trsp{\\nabla f(x)}(y-x)\\text{ for all }x,y\\in C.\n\\]</div>\n</section>\n</div>", "a[href=\"convex.html#suplem\"]": "<div class=\"proof lemma admonition\" id=\"suplem\">\n<p class=\"admonition-title\"><span class=\"caption-number\">Lemma 3.6 </span></p>\n<section class=\"lemma-content\" id=\"proof-content\">\n<p>Let <span class=\"math notranslate nohighlight\">\\(I\\)</span> be some index set, let <span class=\"math notranslate nohighlight\">\\(C\\)</span> be a convex set.\nLet <span class=\"math notranslate nohighlight\">\\(f_i:C\\to\\mathbb R\\)</span>, <span class=\"math notranslate nohighlight\">\\(i\\in I\\)</span>, be a family of convex functions. Then\n<span class=\"math notranslate nohighlight\">\\(f:x\\mapsto\\sup_{i\\in I}f_i(x)\\)</span> is a convex function.</p>\n</section>\n</div>", "a[href=\"#equation-cons1\"]": "<div class=\"math notranslate nohighlight\" id=\"equation-cons1\">\n\\[L(f)-\\bayerr = \\expec_x[1_{\\sgn f(x)\\neq\\sgn (2\\eta(x)-1)}|2\\eta(x)-1|]\\]</div>", "a[href=\"#proof-of-consistency-theorem\"]": "<h1 class=\"tippy-header\" style=\"margin-top: 0;\">Proof of consistency theorem<a class=\"headerlink\" href=\"#proof-of-consistency-theorem\" title=\"Link to this heading\">#</a></h1><p>We prove <a class=\"reference internal\" href=\"loss.html#consistencythm\">Theorem 6.1</a><label class=\"margin-toggle\" for=\"sidenote-role-1\"><span id=\"id1\">\n<sup>1</sup></span>\n</label><input class=\"margin-toggle\" id=\"sidenote-role-1\" name=\"sidenote-role-1\" type=\"checkbox\"/><span class=\"sidenote\"><sup>1</sup><em>Convexity, Classification, and Risk Bounds</em>, P.L. Bartlett, M.I. Jordan and J.D. MacAuliffe (2003)</span> by establishing a number of claims.\nWe repeat the theorem here:</p>", "a[href=\"#equation-cons6\"]": "<div class=\"math notranslate nohighlight\" id=\"equation-cons6\">\n\\[\\text{for any }\\theta_1,\\theta_2,\\ldots \\in[0,1]\\text{ with }\\psi(\\theta_i)\\to 0\n\\text{ it follows that }\\theta_i\\to 0\\]</div>", "a[href=\"#equation-cons4\"]": "<div class=\"math notranslate nohighlight\" id=\"equation-cons4\">\n\\[\\text{$\\psi$ is continuous and convex}\\]</div>"}
skip_classes = ["headerlink", "sd-stretched-link"]

window.onload = function () {
    for (const [select, tip_html] of Object.entries(selector_to_html)) {
        const links = document.querySelectorAll(` ${select}`);
        for (const link of links) {
            if (skip_classes.some(c => link.classList.contains(c))) {
                continue;
            }

            tippy(link, {
                content: tip_html,
                allowHTML: true,
                arrow: true,
                placement: 'auto-start', maxWidth: 500, interactive: false,
                onShow(instance) {MathJax.typesetPromise([instance.popper]).then(() => {});},
            });
        };
    };
    console.log("tippy tips loaded!");
};
